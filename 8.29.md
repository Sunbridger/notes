# BOM
## 1. window对象

BOM对象的核心，表示一个浏览器的实例

相当于JS中的global对象，同时又实现了浏览器的一些功能。

所有直接使用的方法都是window的属性，如parseInt alert等

## 2. 全局作用域


在全局作用域下声明变量相当于为window对象增加了属性

即var a=1     window.a=1

>区别：使用声明语句声明的变量不可以使用delete删除，但是直接在window增加属性可以被删除。

## 3. 多个window对象
一般情况下一个页面只有一个window对象。

但是如果页面中存在框架(frame)的时候，每个框架都将拥有自己的window对象。

所有的框架都保存在frames对象中，它是一个伪数组。访问对应的框架可以使用frame`name`或者frame`index`

所有的window对象都有name属性，表示当前框架的名字，对应frame标签中的name属性。


## 4. top，parent和self	
window对象上有三个特殊的属性：top parent self，用于存在多个框架的时候相互访问

- top:始终指向最外层的window对象
- parent:指向当前window对象的上一层（如果不存在框架，top和parent相等）
- self：当前的window对象，没有实际的意义，只是为了和top，parent相互对应。

>重要问题
当页面存在多个window对象的时候，每个window对象都会包含原生类型的构造函数，这些构造函数 **相互独立** ，互不相等。这种结构使得在不同的框架下相互传递数据的时候会出现很多奇怪的问题。

**???** 判断是否为数组：arr instanceof Array; 多个iframe下判断不准确

`如果arr是在当前框架下定义的，得到的结果为true`

`如果arr是在其他框架下定义的，并且以参数的形式传递过来的，得到的结果为false。`


**因为arr是其他框架Array的实例，并非当前框架下Array的实例**

<hr>


注意点	:
1. BOM提供的alert confirm **prompt**(`这个jsbride常用)三个方法都是阻断式的，即对话框弹出后，所有的JS都停止运行。这种效果是浏览器实现的，使用JS无法模拟。
2. 对话框的样式是浏览器自定义的，不同的浏览器中样式不同，而且无法定义。因此在常规开发中基本用于调试，不会真实使用。
3. 对location的属性（除hash外）重新设置值的时候页面都会刷新。并且在历史记录中新生成一条记录，点击后退会退到上一个页面。



# DOM
## 数据集属性
使用非标准特性方法来设置自定义特性虽然可行，但是造成的影响是HTML结构不在合法，因此HTML5添加了dataset属性支持用户为node节点增加自定义属性。使用时需要注意以下几点：


1. dataset属性对应的是一个对象，其中每个属性的名称对应了HTML中的“data-属性名”，如dataset.x对应了html中的data-x的值。

2. 对于带连字符的属性需要转换为驼峰式命名，如dataset.firstName对应data-first-name。

3. dataset是实时的双向接口，即如果修改或删除dataset的一个属性就等于修改或删除了元素节点的对应属性。

## 数据集使用场景举例
1. 方便多节点进行多个属性的设置和维护。

2. 如果浏览器支持dataset必然支持CSS3，可以借助CSS3的属性选择器来实现不同的效果。


## DocumentFragment
每当我们向DOM树中插入节点的时候，都会引起浏览器的重绘，如果循环插入节点的话会引发更多的重绘，从而影响性能。

因此DOM提供了DocumentFragment（文档片段）。

你可以将需要添加的节点先填到文档片段中，然后一次性将文档片段插入到文档中，这样只会触发一次重绘，从而提升性能。

创建方式:
```document.creatDocumentFragment()```

ps:虽然在理论上文档片段可以提升性能，但是实际效果是只有在现代浏览器上才能体现出微小的性能提升，在IE下甚至比不使用文档片段性能还要差。仅作为面试知识点。
