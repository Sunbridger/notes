# vue-class-component
> ECMAScript / TypeScript decorator for class-style Vue components.
## usage
1.  `methods` 直接作为class的原型方法如下
```
class A {
  // methods 
  say() {
    // ...
  }
}
```
2. `computed` 作为class的访问器属性（只有get）
```
class A {
  // computed 
  get nameFirst() {
    // ...
  }
}
```
3. `data` 直接作为class的内部属性 `
```
export default class App extends Vue {
  // inital data
  nn = 2 // 需要  `babel-plugin-transform-class-properties i`这个包的支持
  msg = undefinde //不是响应式的
  // hook data
  data() {
    return {
      msg: undefined, // 依旧是响应式的
      nn: 2
    }
  }
}
```
ps： 还是使用hook data写法才好
4. `data`, `render` and all Vue lifecycle hooks can be directly declared as class member methods as well
  > 代码同 1 写法
5. For all other options, pass them to the decorator function.
```
import Component from 'vue-class-component'
@Component({
  props: {
    propMessage: String
  },
  watch: {
    name: function(newname, oldname) {
      // 如果 `name` 发生改变，这个函数就会运行
    }
  }
  components: {
    CompA: 'xxx'
  }
})
export default class App extends Vue {}
```
ps:props和watch的写法不止一种 也可以用@prop and @watch decorators 当然 得而外装包`vue-property-decorator`

# ⚠️警告写法
1. `this` value in property
If you define an arrow function as a class property and access this in it, it will not work. This is because this is just a proxy object to Vue instance when initializing class properties:

```
@Component
class MyComp extends Vue {
  foo = 123
  false = () => {
    // Does not update the expected property.
    // `this` value is not a Vue instance in fact.
    this.foo = 456
  }
  right () {
    // Correctly update the expected property.
    this.foo = 456
  }
}

```
2. `undefined` will not be reactive(响应式)
代码如例子3

<hr>

# Vue Property Decorator
This library fully depends on `vue-class-component`, so please read its README before using this library

单纯的`vue-class-component` 还不足以来用type 使用`vue-property-decorator`才可以,它是在 vue-class-component 上增强了更多的结合 Vue 特性的装饰器
## usage

There are 7 decorators and 1 function (Mixin): 
- @Prop
- @PropSync
- @Watch
- @Emit
- @Provide
- @Inject
- @Model
- @Component (其实vue-property-decorator内部还是provided by vue-class-component，只不过写法是它了)
- @Mixins (其实vue-property-decorator内部还是provided by vue-class-component，只不过写法是它了)



```
import {Vue, Component} from 'vue-property-decorator';
@Component({})
export default class App extends Vue{
    // 这个现在就是hook data了么？
    ValA: string = "hello world"; // 多了个:string 区别props中自带的类型定义String 
    ValB: number = 1;
    
    // props
    @Prop()
    propA: number = 1

    @Prop({ default: 'default value' })
    propB: string

    @Prop([String, Boolean])
    propC: string | boolean

    @Prop({ type: null })
    propD: any
}
```

相当于下面的 (只写props部分了 ，data部分还不太确定 ，vue-class-component官方说hook data的概念了)
```
props: {
    checked: Boolean,
    propA: Number,
    propB: {
      type: String,
      default: 'default value'
    },
    propC: [String, Boolean],
    propD: { type: null }
  }
```