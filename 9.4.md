# MutationObserver的进阶应用
- 监听JS脚本创建的 DOM渲染完成
- 监听图片/富文本编辑器/节点内容变化及处理
- 关于 vue对于 MutationObserver的应用

用法
`MutationObserver.observe(dom, options)`
启动监听，接收两个参数。


第一参数：被观察的 DOM节点

第二参数：配置需要观察的变动项options（记得 MutationEvents茫茫多的事件吗，这里通过配置项完成）
mutationObserver.observe(content, {
    attributes: true, // Boolean - 观察目标属性的改变
    // ...
});

tips： vue框架在vue2.0之前，对于 MutationObserver的应用在于 nextTick；原理是利用了 MutationObserver异步回调函数在微任务队列中排列。具体操作呢，创建一个新节点并观察，随意的更新一下它的内容就可以了。

# MessageChannel
实现iframe内的页面和外部的页面通信


```
var channel = new MessageChannel();
var para = document.querySelector('p');
    
var ifr = document.querySelector('iframe');
var otherWindow = ifr.contentWindow;

ifr.addEventListener("load", iframeLoaded, false);
    
function iframeLoaded() {
  otherWindow.postMessage('Hello from the main page!', '*', [channel.port2]);
}

channel.port1.onmessage = handleMessage;
function handleMessage(e) {
  para.innerHTML = e.data;
}
```